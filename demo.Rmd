<<<<<<< HEAD
---
title: "Map"
author: "YingtongZhou"
date: "12/28/2020"
output: html_document
---

```{r, echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE}
# Load Packages
library(dplyr)
library(stringr)
library(readxl)
library(rgdal)
library(leaflet)
library(RColorBrewer)
library(sf)
# library(shiny)
library(tidyverse)


# Load ACS NYC data & get geo id
acs <- read.csv("acsnyc.csv", skip = 5, header = TRUE, stringsAsFactors = FALSE)
acs$X <- str_sub(acs$X, 10)


# Load NYC EDs shapefile
nyed <- readOGR("nyedwi.shp", verbose=FALSE)
nyed@data$ElectDist <- as.numeric(as.character(nyed@data$ElectDist))
nyed <- spTransform(nyed, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# plotnyed <- plot(nyed)


# # Load NYC Neighborhoods Shapefile
# nbh <- readOGR("nyu_2451_34561.shp", verbose=FALSE)
# nbh <- spTransform(nbh, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# 
# 
# # Load 2020 presidential results and join nyed
# pre20 <- read.csv("pre20ED.csv", header = TRUE)
# nyed@data <- left_join(nyed@data, pre20, by = c("ElectDist" = "ED"))


# Load Public Advocate Special 2019 & Spread Names
# pas <- read.csv("PAS.csv", stringsAsFactors = FALSE, header = FALSE) %>% 
#   select(-V5, -V6, -V7)
# pas$ed <- as.numeric(paste(formatC(pas$V1, width=2, flag="0"), formatC(pas$V2, width=3, flag="0"), sep=""))
# pas_sp <- pas %>% 
#   select(-V1, -V2) %>% 
#   spread(V3, V4)
# nyed@data <- left_join(nyed@data, pas_sp, by = c("ElectDist" = "ed"))
# 
# 
# # Load 2017 Mayor Primary
# mp17 <- read.csv("mp17.csv", stringsAsFactors = FALSE)
# mp17$ed <- as.numeric(paste(formatC(mp17$AD, width=2, flag="0"), formatC(mp17$ED, width=3, flag="0"), sep=""))
# mp_sp <- mp17 %>% 
#   select(-AD, -ED) %>% 
#   spread(Unit.Name, Tally)
# nyed@data <- left_join(nyed@data, mp_sp, by = c("ElectDist" = "ed"))


# # Set color bins for jbc & dtc
# bins <- c(0, 50, 100, 200, 300, 400, 500, 800, Inf)
# palb <- colorBin("Blues", domain = nyed$jbc, bins = bins)
# palr <- colorBin("Reds", domain = nyed$dtc, bins = bins)
# 
# 
# # Add labels
# contentb <- paste("ElectDistrict:", nyed$ElectDist, "<br/>",
#                   "Biden:", nyed$jbc, "<br/>",
#                   "Trump:", nyed$dtc, "<br/>")


# # Load Eds for ccd 31 and Subset ccd31 from nyed
# ccd31 <- read.delim("ccd31.txt", stringsAsFactors = FALSE)
# ccd31$ed <- paste(str_sub(ccd31$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd31$ed)), width=3, flag="0"), sep = '')
# sp31 <- nyed[nyed$ElectDist %in% ccd31$ed, ]
# 
# 
# # Get outline for for ccd31
nyed2 <- sf::st_as_sf(nyed)
# poly31 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd31$ed) %>%
#   summarise(ElectDist = "ccd31")
# 
# 
# # ccd18 outline
# ccd18 <- read.delim("ccd18.txt", stringsAsFactors = FALSE)
# ccd18$ed <- paste(str_sub(ccd18$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd18$ed)), width=3, flag="0"), sep = '')
# sp18 <- nyed[nyed$ElectDist %in% ccd18$ed, ]
# poly18 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd18$ed) %>%
#   summarise(ElectDist = "ccd18")


# ccd49 outline
ccd49 <- read.delim("ccd49.txt", stringsAsFactors = FALSE)
ccd49$ed <- paste(str_sub(ccd49$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd49$ed)), width=3, flag="0"), sep = '')
sp49 <- nyed[nyed$ElectDist %in% ccd49$ed, ]
poly49 <- nyed2 %>%
  dplyr::filter(nyed2$ElectDist %in% ccd49$ed) %>%
  summarise(ElectDist = "ccd49")


# # ccd51 outline
# ccd51 <- read.delim("ccd51.txt", stringsAsFactors = FALSE)
# ccd51$ed <- paste(str_sub(ccd51$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd51$ed)), width=3, flag="0"), sep = '')
# sp51 <- nyed[nyed$ElectDist %in% ccd51$ed, ]
# poly51 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd51$ed) %>%
#   summarise(ElectDist = "ccd51")


# Load and join NYC Census Tracts & Queens Demographic Info
nyct <- readOGR("nyu_2451_34505.shp", verbose=FALSE)
nyct <- spTransform(nyct, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# plotnyct <- plot(nyct)
# nyct@data$namelsad <- as.character(substring(sub("\\,.*", "", nyct@data$namelsad), 14))
nyct@data <- left_join(nyct@data, acs, by = c("tractid" = "X"))


# Convert Demo Info to numeric
nyct@data$White. <- as.numeric(nyct@data$White.)
nyct@data$Black. <- as.numeric(nyct@data$Black.)
nyct@data$AIAN. <- as.numeric(nyct@data$AIAN.)
nyct@data$Asian. <- as.numeric(nyct@data$Asian.)
nyct@data$NHPI. <- as.numeric(nyct@data$NHPI.)
nyct@data$Hispanic. <- as.numeric(nyct@data$Hispanic.)


# # Load 2019 ACS NYC Household Income & Join nyct
# hi19 <- read.csv("HI19.csv", skip = 2, header = TRUE, stringsAsFactors = FALSE)
# hi19$id <- str_sub(hi19$id, 10)
# nyct@data <- left_join(nyct@data, hi19, by = c("tractid" = "id"))
# 

# Set color bins for demographics
bins2 <- c(0, 12.5, 25, 37.5, 50, 62.5, 75, 87.5, 100)
palw <- colorBin("Purples", domain = nyct$White., bins = bins2)
pala <- colorBin("Greens", domain = nyct$Black., bins = bins2)
pals <- colorBin("Oranges", domain = nyct$Asian., bins = bins2)
palh <- colorBin("Reds", domain = nyct$Hispanic., bins = bins2)
bins3 <- c(0, 0.2, 0.3, 0.6, 1.3, 27)
paln <- colorBin("Reds", domain = nyct$AIAN., bins = bins3)
bins4 <- c(0, 0.01, 0.02, 0.03, 0.05, 7.5)
palp <- colorBin("Blues", domain = nyct$NHPI., bins = bins4)


# # Set color bins for 2017 mayor primary & 2019 Special Public Advocate & HI
# # quantile(nyed@data$`Bill de Blasio`, c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# binm <- c(0, 10, 20, 30, 40, 50, 70, 85, 100, 340)
# palm <- colorBin("Oranges", domain = nyed$`Bill de Blasio`, bins = binm)
# # quantile(nyed@data$`Jumaane D. Williams (It's Time Let's Go)`, c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# binpa <- c(0, 10, 20, 30, 40, 50, 70, 100, 250)
# palpa <- colorBin("Purples", domain = nyed$`Jumaane D. Williams (It's Time Let's Go)`, bins = binpa)
# # quantile(as.numeric(nyct@data$medianHI), c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# nyct@data$medianHI <- as.numeric(nyct@data$medianHI)
# binhi <- c(0, 31800, 43240, 51230, 59100, 66440, 74410, 82100, 230000)
# palhi <- colorBin("Blues", domain = nyct$medianHI, bins = binhi)
# 

# Add demographic info labels
contentd <- paste("Census Tract#:", nyct$namelsad, "<br/>",
                  "White%:", nyct$White., "<br/>",
                  "Black%:", nyct$Black., "<br/>",
                  "Asian%:", nyct$Asian., "<br/>",
                  "Hispanic%:", nyct$Hispanic., "<br/>",
                  "AIAN%", nyct$AIAN., "<br/>",
                  "NHPI%", nyct$NHPI., "<br/>")


# # Add 2017 mayor primary & 2019 Special Public Advocate & HI info labels
# contentm <- paste0("ElectDistrict: ", nyed$ElectDist, "<br/>",
#                    "Bill de Blasio: ", nyed$`Bill de Blasio`, "<br/>",
#                    "Michael Tolkin: ", nyed$`Michael Tolkin`, "<br/>",
#                    "Richard S. Bashner: ", nyed$`Richard S. Bashner`, "<br/>",
#                    "Robert Gangi: ", nyed$`Robert Gangi`, "<br/>",
#                    "Sal F. Albanese: ", nyed$`Sal F. Albanese`, "<br/>")
# 
# contentpa <- paste0("ElectDistrict: ", nyed$ElectDist, "<br/>",
#                     "Jumaane D. Williams (It's Time Let's Go): ", nyed$`Jumaane D. Williams (It's Time Let's Go)`, "<br/>",
#                     "Eric A. Ulrich (Common Sense): ", nyed$`Eric A. Ulrich (Common Sense)`, "<br/>",
#                     "Melissa Mark-Viverito (Fix the MTA): ", nyed$`Melissa Mark-Viverito (Fix the MTA)`, "<br/>",
#                     "Michael A. Blake (For The People): ", nyed$`Michael A. Blake (For The People)`, "<br/>",
#                     "Ydanis Rodriguez (Unite Immigrants): ", nyed$`Ydanis Rodriguez (Unite Immigrants)`, "<br/>")
# 
# contenthi <- paste0("Census Tract Number: ", nyct$tractnum, "<br/>",
#                     "Median Household Income: ", nyct$medianHI, "<br/>",
#                     "Mean Household Income: ", nyct$meanHI, "<br/>")


# # Load NYC School District Shapefile
# sd <- readOGR("nysd.shp", verbose=FALSE)
# sd <- spTransform(sd, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# 
# 
# # Load NYCHA Shapefile
# nycha <- readOGR("nycha.shp", verbose=FALSE)
# nycha <- spTransform(nycha, CRS("+proj=longlat +datum=WGS84 +no_defs"))
```


```{r, echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE}
(plotdemo <- leaflet()  %>% 
       setView(lng = -73.934314, lat = 40.687000,zoom = 10) %>% 
       addProviderTiles(providers$CartoDB.Positron) %>%
       addPolygons(data = nyed,
                   weight = 2,
                   color = "green",
                   stroke = TRUE,
                   label = paste("ED", nyed@data$ElectDist),
                   group = "ed") %>%
       addPolygons(data = poly49,
                   weight = 2,
                   color = "brown",
                   group = "ccd49 Outline") %>%
       addPolygons(data = nyct,
                   fillColor = ~palw(White.),
                   weight = 2,
                   color = "grey",
                   popup = contentd,
                   fillOpacity = 0.3,
                   group = "Demo") %>%
       addLayersControl(
         overlayGroups = c("ed", "ccd49 Outline", "Demo"),
         options = layersControlOptions(collapsed = FALSE)) %>% 
       hideGroup(c("ed", "ccd49 Outline", "Demo"))
     )
```


## Sources:
  
  American Community Survey (ACS) 2019 Estimates from the US Census Bureau
  
  Board of Elections in the City of New York


## Notes:
  
  Mayor2017: Democratic Mayor Primary Election in 2017,
  
  SPA2019: Special Public Advocate in 2019,
  
  AIAN: American Indian and Alaska Native,
  
  NHPI: Native Hawaiian and Other Pacific Islander,
  
  Median HI: Median Household Income Estimates in 2019 from ACS,
  
  Created by Yingtong Zhou,
  
=======
---
title: "Map"
author: "YingtongZhou"
date: "12/28/2020"
output: html_document
---

```{r, echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE}
# Load Packages
library(dplyr)
library(stringr)
library(readxl)
library(rgdal)
library(leaflet)
library(RColorBrewer)
library(sf)
# library(shiny)
library(tidyverse)


# Load ACS NYC data & get geo id
acs <- read.csv("acsnyc.csv", skip = 5, header = TRUE, stringsAsFactors = FALSE)
acs$X <- str_sub(acs$X, 10)


# Load NYC EDs shapefile
nyed <- readOGR("nyedwi.shp", verbose=FALSE)
nyed@data$ElectDist <- as.numeric(as.character(nyed@data$ElectDist))
nyed <- spTransform(nyed, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# plotnyed <- plot(nyed)


# # Load NYC Neighborhoods Shapefile
# nbh <- readOGR("nyu_2451_34561.shp", verbose=FALSE)
# nbh <- spTransform(nbh, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# 
# 
# # Load 2020 presidential results and join nyed
# pre20 <- read.csv("pre20ED.csv", header = TRUE)
# nyed@data <- left_join(nyed@data, pre20, by = c("ElectDist" = "ED"))


# Load Public Advocate Special 2019 & Spread Names
# pas <- read.csv("PAS.csv", stringsAsFactors = FALSE, header = FALSE) %>% 
#   select(-V5, -V6, -V7)
# pas$ed <- as.numeric(paste(formatC(pas$V1, width=2, flag="0"), formatC(pas$V2, width=3, flag="0"), sep=""))
# pas_sp <- pas %>% 
#   select(-V1, -V2) %>% 
#   spread(V3, V4)
# nyed@data <- left_join(nyed@data, pas_sp, by = c("ElectDist" = "ed"))
# 
# 
# # Load 2017 Mayor Primary
# mp17 <- read.csv("mp17.csv", stringsAsFactors = FALSE)
# mp17$ed <- as.numeric(paste(formatC(mp17$AD, width=2, flag="0"), formatC(mp17$ED, width=3, flag="0"), sep=""))
# mp_sp <- mp17 %>% 
#   select(-AD, -ED) %>% 
#   spread(Unit.Name, Tally)
# nyed@data <- left_join(nyed@data, mp_sp, by = c("ElectDist" = "ed"))


# # Set color bins for jbc & dtc
# bins <- c(0, 50, 100, 200, 300, 400, 500, 800, Inf)
# palb <- colorBin("Blues", domain = nyed$jbc, bins = bins)
# palr <- colorBin("Reds", domain = nyed$dtc, bins = bins)
# 
# 
# # Add labels
# contentb <- paste("ElectDistrict:", nyed$ElectDist, "<br/>",
#                   "Biden:", nyed$jbc, "<br/>",
#                   "Trump:", nyed$dtc, "<br/>")


# # Load Eds for ccd 31 and Subset ccd31 from nyed
# ccd31 <- read.delim("ccd31.txt", stringsAsFactors = FALSE)
# ccd31$ed <- paste(str_sub(ccd31$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd31$ed)), width=3, flag="0"), sep = '')
# sp31 <- nyed[nyed$ElectDist %in% ccd31$ed, ]
# 
# 
# # Get outline for for ccd31
nyed2 <- sf::st_as_sf(nyed)
# poly31 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd31$ed) %>%
#   summarise(ElectDist = "ccd31")
# 
# 
# # ccd18 outline
# ccd18 <- read.delim("ccd18.txt", stringsAsFactors = FALSE)
# ccd18$ed <- paste(str_sub(ccd18$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd18$ed)), width=3, flag="0"), sep = '')
# sp18 <- nyed[nyed$ElectDist %in% ccd18$ed, ]
# poly18 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd18$ed) %>%
#   summarise(ElectDist = "ccd18")


# ccd49 outline
ccd49 <- read.delim("ccd49.txt", stringsAsFactors = FALSE)
ccd49$ed <- paste(str_sub(ccd49$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd49$ed)), width=3, flag="0"), sep = '')
sp49 <- nyed[nyed$ElectDist %in% ccd49$ed, ]
poly49 <- nyed2 %>%
  dplyr::filter(nyed2$ElectDist %in% ccd49$ed) %>%
  summarise(ElectDist = "ccd49")


# # ccd51 outline
# ccd51 <- read.delim("ccd51.txt", stringsAsFactors = FALSE)
# ccd51$ed <- paste(str_sub(ccd51$ed, -2,-1), formatC(as.integer(sub("/.*", "", ccd51$ed)), width=3, flag="0"), sep = '')
# sp51 <- nyed[nyed$ElectDist %in% ccd51$ed, ]
# poly51 <- nyed2 %>%
#   dplyr::filter(nyed2$ElectDist %in% ccd51$ed) %>%
#   summarise(ElectDist = "ccd51")


# Load and join NYC Census Tracts & Queens Demographic Info
nyct <- readOGR("nyu_2451_34505.shp", verbose=FALSE)
nyct <- spTransform(nyct, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# plotnyct <- plot(nyct)
# nyct@data$namelsad <- as.character(substring(sub("\\,.*", "", nyct@data$namelsad), 14))
nyct@data <- left_join(nyct@data, acs, by = c("tractid" = "X"))


# Convert Demo Info to numeric
nyct@data$White. <- as.numeric(nyct@data$White.)
nyct@data$Black. <- as.numeric(nyct@data$Black.)
nyct@data$AIAN. <- as.numeric(nyct@data$AIAN.)
nyct@data$Asian. <- as.numeric(nyct@data$Asian.)
nyct@data$NHPI. <- as.numeric(nyct@data$NHPI.)
nyct@data$Hispanic. <- as.numeric(nyct@data$Hispanic.)


# # Load 2019 ACS NYC Household Income & Join nyct
# hi19 <- read.csv("HI19.csv", skip = 2, header = TRUE, stringsAsFactors = FALSE)
# hi19$id <- str_sub(hi19$id, 10)
# nyct@data <- left_join(nyct@data, hi19, by = c("tractid" = "id"))
# 

# Set color bins for demographics
bins2 <- c(0, 12.5, 25, 37.5, 50, 62.5, 75, 87.5, 100)
palw <- colorBin("Purples", domain = nyct$White., bins = bins2)
pala <- colorBin("Greens", domain = nyct$Black., bins = bins2)
pals <- colorBin("Oranges", domain = nyct$Asian., bins = bins2)
palh <- colorBin("Reds", domain = nyct$Hispanic., bins = bins2)
bins3 <- c(0, 0.2, 0.3, 0.6, 1.3, 27)
paln <- colorBin("Reds", domain = nyct$AIAN., bins = bins3)
bins4 <- c(0, 0.01, 0.02, 0.03, 0.05, 7.5)
palp <- colorBin("Blues", domain = nyct$NHPI., bins = bins4)


# # Set color bins for 2017 mayor primary & 2019 Special Public Advocate & HI
# # quantile(nyed@data$`Bill de Blasio`, c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# binm <- c(0, 10, 20, 30, 40, 50, 70, 85, 100, 340)
# palm <- colorBin("Oranges", domain = nyed$`Bill de Blasio`, bins = binm)
# # quantile(nyed@data$`Jumaane D. Williams (It's Time Let's Go)`, c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# binpa <- c(0, 10, 20, 30, 40, 50, 70, 100, 250)
# palpa <- colorBin("Purples", domain = nyed$`Jumaane D. Williams (It's Time Let's Go)`, bins = binpa)
# # quantile(as.numeric(nyct@data$medianHI), c(.1, .2, .3, .4, .50, .6, .7, .8, .90), na.rm = TRUE)
# nyct@data$medianHI <- as.numeric(nyct@data$medianHI)
# binhi <- c(0, 31800, 43240, 51230, 59100, 66440, 74410, 82100, 230000)
# palhi <- colorBin("Blues", domain = nyct$medianHI, bins = binhi)
# 

# Add demographic info labels
contentd <- paste("Census Tract#:", nyct$namelsad, "<br/>",
                  "White%:", nyct$White., "<br/>",
                  "Black%:", nyct$Black., "<br/>",
                  "Asian%:", nyct$Asian., "<br/>",
                  "Hispanic%:", nyct$Hispanic., "<br/>",
                  "AIAN%", nyct$AIAN., "<br/>",
                  "NHPI%", nyct$NHPI., "<br/>")


# # Add 2017 mayor primary & 2019 Special Public Advocate & HI info labels
# contentm <- paste0("ElectDistrict: ", nyed$ElectDist, "<br/>",
#                    "Bill de Blasio: ", nyed$`Bill de Blasio`, "<br/>",
#                    "Michael Tolkin: ", nyed$`Michael Tolkin`, "<br/>",
#                    "Richard S. Bashner: ", nyed$`Richard S. Bashner`, "<br/>",
#                    "Robert Gangi: ", nyed$`Robert Gangi`, "<br/>",
#                    "Sal F. Albanese: ", nyed$`Sal F. Albanese`, "<br/>")
# 
# contentpa <- paste0("ElectDistrict: ", nyed$ElectDist, "<br/>",
#                     "Jumaane D. Williams (It's Time Let's Go): ", nyed$`Jumaane D. Williams (It's Time Let's Go)`, "<br/>",
#                     "Eric A. Ulrich (Common Sense): ", nyed$`Eric A. Ulrich (Common Sense)`, "<br/>",
#                     "Melissa Mark-Viverito (Fix the MTA): ", nyed$`Melissa Mark-Viverito (Fix the MTA)`, "<br/>",
#                     "Michael A. Blake (For The People): ", nyed$`Michael A. Blake (For The People)`, "<br/>",
#                     "Ydanis Rodriguez (Unite Immigrants): ", nyed$`Ydanis Rodriguez (Unite Immigrants)`, "<br/>")
# 
# contenthi <- paste0("Census Tract Number: ", nyct$tractnum, "<br/>",
#                     "Median Household Income: ", nyct$medianHI, "<br/>",
#                     "Mean Household Income: ", nyct$meanHI, "<br/>")


# # Load NYC School District Shapefile
# sd <- readOGR("nysd.shp", verbose=FALSE)
# sd <- spTransform(sd, CRS("+proj=longlat +datum=WGS84 +no_defs"))
# 
# 
# # Load NYCHA Shapefile
# nycha <- readOGR("nycha.shp", verbose=FALSE)
# nycha <- spTransform(nycha, CRS("+proj=longlat +datum=WGS84 +no_defs"))
```


```{r, echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE}
(plotdemo <- leaflet()  %>% 
       setView(lng = -73.934314, lat = 40.687000,zoom = 10) %>% 
       addProviderTiles(providers$CartoDB.Positron) %>%
       addPolygons(data = nyed,
                   weight = 2,
                   color = "green",
                   stroke = TRUE,
                   label = paste("ED", nyed@data$ElectDist),
                   group = "ed") %>%
       addPolygons(data = poly49,
                   weight = 2,
                   color = "brown",
                   group = "ccd49 Outline") %>%
       addPolygons(data = nyct,
                   fillColor = ~palw(White.),
                   weight = 2,
                   color = "grey",
                   popup = contentd,
                   fillOpacity = 0.3,
                   group = "Demo") %>%
       addLayersControl(
         overlayGroups = c("ed", "ccd49 Outline", "Demo"),
         options = layersControlOptions(collapsed = FALSE)) %>% 
       hideGroup(c("ed", "ccd49 Outline", "Demo"))
     )
```


## Sources:
  
  American Community Survey (ACS) 2019 Estimates from the US Census Bureau
  
  Board of Elections in the City of New York


## Notes:
  
  Mayor2017: Democratic Mayor Primary Election in 2017,
  
  SPA2019: Special Public Advocate in 2019,
  
  AIAN: American Indian and Alaska Native,
  
  NHPI: Native Hawaiian and Other Pacific Islander,
  
  Median HI: Median Household Income Estimates in 2019 from ACS,
  
  Created by Yingtong Zhou,
  
>>>>>>> 425476ca0aa5822315590871fd7730dce41bd804
  Contact: yingz.elevationstrategies@gmail.com